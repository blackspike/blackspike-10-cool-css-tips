---
import { getCollection } from "astro:content"
import Layout from "../../layouts/Layout.astro"
import SlideContent from "../../components/SlideContent.astro"

export async function getStaticPaths() {

  const slides = await getCollection("slides")

  return slides.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }))
}

const { entry } = Astro.props
const { Content } = await entry.render()
---

<Layout title={ entry.data.title } description={ entry.data.description }>

  <SlideContent
    title={ entry.data.title }
    description={ entry.data.description }
  >

    <Fragment slot="content">
      <Content />
    </Fragment>

  </SlideContent>

</Layout>